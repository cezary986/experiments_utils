<div *ngIf="!experimentRun" class="loader">
  <ion-spinner color="primary"></ion-spinner>
</div>

<ng-container *ngIf="experimentRun">
  <ion-toolbar color="primary">
    <ion-segment
      [ngModel]="currentTab"
      [swipeGesture]="true"
      (ionChange)="onTabClicked($event)"
    >
      <ion-segment-button [value]="0">
        {{ "run.details" | translate }}
      </ion-segment-button>
      <ion-segment-button [value]="1">
        {{ "run.logs" | translate }}</ion-segment-button
      >
    </ion-segment>
  </ion-toolbar>
  <ion-content >
    <ion-slides
      class="tabs-container container"
      #slides
      (ionSlideDidChange)="onTabSwiped(slides)"
      [options]="slideOpts"
    >
      <ion-slide>
        <ion-refresher slot="fixed" (ionRefresh)="details.refresh($event)">
          <ion-refresher-content></ion-refresher-content>
        </ion-refresher>
        <ion-content [fullscreen]="true">
          <app-run-details
            #details
            [run]="experimentRun"
            [active]="currentTab === 0"
          >
          </app-run-details>
        </ion-content>
      </ion-slide>
      <ion-slide>
        <ion-refresher slot="fixed" (ionRefresh)="logs.refresh($event)">
          <ion-refresher-content></ion-refresher-content>
        </ion-refresher>
        <ion-content [fullscreen]="true">
          <app-logs
            #logs
            [runId]="experimentRun.id"
            [active]="currentTab === 1"
          ></app-logs>
        </ion-content>
      </ion-slide>
    </ion-slides>
  </ion-content>
</ng-container>
